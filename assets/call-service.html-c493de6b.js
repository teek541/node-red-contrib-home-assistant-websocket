import{_ as c,r as u,o as r,c as l,a as s,b as n,d as a,w as e,e as o}from"./app-84c1d8f6.js";const i="/node-red-contrib-home-assistant-websocket/assets/call-service_06-c910f3fd.png",k="data:image/png;base64,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",q="/node-red-contrib-home-assistant-websocket/assets/call-service_03-030e9b9d.png",d="data:image/png;base64,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",g="/node-red-contrib-home-assistant-websocket/assets/call-service_05-da3547f8.png",y="/node-red-contrib-home-assistant-websocket/assets/call-service_02-a37b7ed5.png",h="/node-red-contrib-home-assistant-websocket/assets/call-service_07-3a34bc0a.png",m="/node-red-contrib-home-assistant-websocket/assets/call-service_08-b2dfecf4.png",f={},b=o('<h1 id="call-service-tips-and-tricks" tabindex="-1"><a class="header-anchor" href="#call-service-tips-and-tricks" aria-hidden="true">#</a> Call Service Tips and Tricks</h1><h2 id="homeassistant-domain" tabindex="-1"><a class="header-anchor" href="#homeassistant-domain" aria-hidden="true">#</a> Homeassistant Domain</h2><p>The <code>homeassisant</code> domain can be used with different domains of entities with certain services.</p><p>Here&#39;s an example of using the <code>homeassistant</code> domain to turn off some lights, switches, and everything that can be turned off in the laundry room in a single service call. This can save you from having to have multiple call-service nodes.</p><p><img src="'+i+'" alt="screenshot of a call-service node using homeassistant domain"></p><h2 id="using-mustache-templates" tabindex="-1"><a class="header-anchor" href="#using-mustache-templates" aria-hidden="true">#</a> Using Mustache Templates</h2><p>Mustache templates can be used in the domain, service, and entity id fields. This is useful if you want to set the service based on <code>msg.payload</code> or any other message property.</p>',7),A={href:"https://flows.nodered.org/node/node-red-contrib-eztimer",target:"_blank",rel:"noopener noreferrer"},v=s("code",null,"on",-1),j=s("code",null,"off",-1),x=o('<p><img src="'+k+'" alt="screenshot of flow"></p><p><img src="'+q+`" alt="screenshot of the call-service node"></p><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;522c54b8de855062&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;api-call-service&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;a38123c1.2fd3f&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token property">&quot;debugenabled&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;domain&quot;</span><span class="token operator">:</span><span class="token string">&quot;homeassistant&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;service&quot;</span><span class="token operator">:</span><span class="token string">&quot;turn_{{payload}}&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;areaId&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;75a88dfa58844f8aad752dde5bc51fc7&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;deviceId&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;entityId&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;light.front_porch&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;light.garage&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;light.kitchen&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span><span class="token string">&quot;jsonata&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mergeContext&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mustacheAltTags&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;outputProperties&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;queue&quot;</span><span class="token operator">:</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">526</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">672</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;cca91c6fe47d7fa0&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;eztimer&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;a38123c1.2fd3f&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;debug&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;autoname&quot;</span><span class="token operator">:</span><span class="token string">&quot;sunset - dawn&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;tag&quot;</span><span class="token operator">:</span><span class="token string">&quot;eztimer&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;suspended&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;sendEventsOnSuspend&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;latLongSource&quot;</span><span class="token operator">:</span><span class="token string">&quot;manual&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;latLongHaZone&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;lat&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;lon&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;timerType&quot;</span><span class="token operator">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;startupMessage&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;ontype&quot;</span><span class="token operator">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;ontimesun&quot;</span><span class="token operator">:</span><span class="token string">&quot;sunset&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;ontimetod&quot;</span><span class="token operator">:</span><span class="token string">&quot;17:00&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;onpropertytype&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;onproperty&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;onvaluetype&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;onvalue&quot;</span><span class="token operator">:</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;onoffset&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;onrandomoffset&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;onsuppressrepeats&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;offtype&quot;</span><span class="token operator">:</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;offtimesun&quot;</span><span class="token operator">:</span><span class="token string">&quot;dawn&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;offtimetod&quot;</span><span class="token operator">:</span><span class="token string">&quot;dusk&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;offduration&quot;</span><span class="token operator">:</span><span class="token string">&quot;00:01:00&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;offpropertytype&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;offproperty&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;offvaluetype&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;offvalue&quot;</span><span class="token operator">:</span><span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;offoffset&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;offrandomoffset&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;offsuppressrepeats&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;resend&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;resendInterval&quot;</span><span class="token operator">:</span><span class="token string">&quot;0s&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mon&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;tue&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;wed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;thu&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;fri&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;sat&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;sun&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">272</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">672</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;522c54b8de855062&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><p>Mustache templates are also accepted in the data field when their type is set to JSON.</p><p><strong>Also see:</strong></p>`,5),z=o('<h2 id="targets" tabindex="-1"><a class="header-anchor" href="#targets" aria-hidden="true">#</a> Targets</h2><p>The target fields allow you to target areas, devices, and/or entities. Any combination can be used when they are available, some services don&#39;t accept areas and devices.</p><p>Mustache templates and environment variables can be used inside each target list.</p><h2 id="data-field" tabindex="-1"><a class="header-anchor" href="#data-field" aria-hidden="true">#</a> Data Field</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>It&#39;s recommended to use the JSONata expression, <code>J: Expression</code>, for the data field as it has several advantages over JSON.</p><ul><li>Handles quotes based on the type of variable</li><li>Allows the insertion of more complex variables such as arrays and object</li><li>Mathematical operations are permitted</li></ul></div><h3 id="inserting-a-message-property-into-a-string" tabindex="-1"><a class="header-anchor" href="#inserting-a-message-property-into-a-string" aria-hidden="true">#</a> Inserting a message property into a string</h3><h4 id="sending-a-tts-message-when-a-door-is-opened" tabindex="-1"><a class="header-anchor" href="#sending-a-tts-message-when-a-door-is-opened" aria-hidden="true">#</a> Sending a TTS message when a door is opened</h4><p><img src="'+d+'" alt="screenshot of flow"></p><p><img src="'+g+`" alt="screenshot of the call-service node"></p><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The &quot;</span> &amp; data.attributes.friendly_name &amp; <span class="token string">&quot; has been opened.&quot;</span> <span class="token punctuation">}</span>
</code></pre></div><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;cd1f9610a73addbc&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;server-state-changed&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;a38123c1.2fd3f&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token property">&quot;exposeToHomeAssistant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;haConfig&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;icon&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;entityidfilter&quot;</span><span class="token operator">:</span><span class="token string">&quot;sensor\\\\..+_door$&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;entityidfiltertype&quot;</span><span class="token operator">:</span><span class="token string">&quot;regex&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;outputinitially&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;state_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;haltifstate&quot;</span><span class="token operator">:</span><span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;halt_if_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;halt_if_compare&quot;</span><span class="token operator">:</span><span class="token string">&quot;is&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token property">&quot;output_only_on_state_change&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token property">&quot;for&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;forType&quot;</span><span class="token operator">:</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;forUnits&quot;</span><span class="token operator">:</span><span class="token string">&quot;minutes&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;ignorePrevStateNull&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;ignorePrevStateUnknown&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;ignorePrevStateUnavailable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;ignoreCurrentStateUnknown&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;ignoreCurrentStateUnavailable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;outputProperties&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;propertyType&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;entityState&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;propertyType&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;eventData&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;propertyType&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;triggerId&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">338</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">560</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;4e016826f6497b79&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;4e016826f6497b79&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;api-call-service&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;a38123c1.2fd3f&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;send tts&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token property">&quot;debugenabled&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;domain&quot;</span><span class="token operator">:</span><span class="token string">&quot;tts&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;service&quot;</span><span class="token operator">:</span><span class="token string">&quot;google_translate_say&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;target&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;areaId&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;deviceId&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;entityId&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;all&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token string">&quot;{\\&quot;message\\&quot;: \\&quot;The \\&quot; &amp; data.attributes.friendly_name &amp; \\&quot; has been opened.\\&quot;}&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span><span class="token string">&quot;jsonata&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mergeContext&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mustacheAltTags&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;outputProperties&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;queue&quot;</span><span class="token operator">:</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">570</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">560</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="getting-a-property-value-of-a-home-assistant-entity" tabindex="-1"><a class="header-anchor" href="#getting-a-property-value-of-a-home-assistant-entity" aria-hidden="true">#</a> Getting a property value of a Home Assistant entity</h3><p>There&#39;s a custom function in JSONata inside Home Assistant nodes that allows the fetching of any property of an HA entity.</p><ul><li><code>$entities()</code> returns all entities in the cache</li><li><code>$entities(&quot;entity_id&quot;)</code> returns a single entity from the cache matching the passed in <code>entity_id</code></li></ul><h4 id="example-of-getting-the-friendly-name-of-an-entity" tabindex="-1"><a class="header-anchor" href="#example-of-getting-the-friendly-name-of-an-entity" aria-hidden="true">#</a> Example of getting the friendly name of an entity</h4><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The &quot;</span> &amp; $entities(<span class="token string">&quot;binary_sensor.front_door&quot;</span>).attributes.friendly_name &amp; <span class="token string">&quot; has been opened.&quot;</span> <span class="token punctuation">}</span>
</code></pre></div><h4 id="example-of-getting-friendly-names-of-all-the-lights-and-switches-with-an-on-state" tabindex="-1"><a class="header-anchor" href="#example-of-getting-friendly-names-of-all-the-lights-and-switches-with-an-on-state" aria-hidden="true">#</a> Example of getting friendly names of all the lights and switches with an <code>on</code> state</h4><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
     <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The &quot;</span> &amp; $join($entities().*<span class="token punctuation">[</span>state = <span class="token string">&quot;on&quot;</span> and entity_id ~&gt; /^light|^switch/<span class="token punctuation">]</span>.attributes.friendly_name<span class="token punctuation">,</span> <span class="token string">&quot;, &quot;</span>) &amp; <span class="token string">&quot; are on.&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Left On&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="doing-arithmetic" tabindex="-1"><a class="header-anchor" href="#doing-arithmetic" aria-hidden="true">#</a> Doing arithmetic</h3>`,19),G={href:"https://docs.jsonata.org/numeric-functions#number",target:"_blank",rel:"noopener noreferrer"},w=s("code",null,"$number()",-1),T=o('<p><code>$number($entities(&quot;sensor.kitchen_lux&quot;).state)</code></p><h4 id="adding-3-to-the-current-temperature-of-a-climate-entity" tabindex="-1"><a class="header-anchor" href="#adding-3-to-the-current-temperature-of-a-climate-entity" aria-hidden="true">#</a> Adding 3 to the current temperature of a climate entity</h4><p><img src="'+y+`" alt="screenshot of call-service node"></p><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;temperature&quot;</span><span class="token operator">:</span> $entities(<span class="token string">&quot;climate.thermostat&quot;</span>).attributes.temperature + <span class="token number">3</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="create-a-comma-delimited-entity-id-list" tabindex="-1"><a class="header-anchor" href="#create-a-comma-delimited-entity-id-list" aria-hidden="true">#</a> Create a comma-delimited entity id list</h3><p>Example of getting a list of lights from the get-entities node and then creating an entity id list to turn them off. The entity id field is left blank in this example as it is defined in the data field.</p><p><img src="`+h+'" alt="screenshot of flow"></p><p><img src="'+m+`" alt="screenshot of call-service node"></p><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;entity_id&quot;</span><span class="token operator">:</span> $join(payload.entity_id<span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span>) <span class="token punctuation">}</span>
</code></pre></div><div class="language-json" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;80c20ba2.f09cd8&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ha-get-entities&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;f731b121.0463a&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;get lights that are on&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;rules&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;entity_id&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;logic&quot;</span><span class="token operator">:</span><span class="token string">&quot;starts_with&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;light.&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;property&quot;</span><span class="token operator">:</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;logic&quot;</span><span class="token operator">:</span><span class="token string">&quot;is&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;valueType&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;output_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_empty_results&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;output_location_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_results_count&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">468</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">528</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;cafbf446.080928&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;cafbf446.080928&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;api-call-service&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;f731b121.0463a&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;turn them off&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;server&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;debugenabled&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;service_domain&quot;</span><span class="token operator">:</span><span class="token string">&quot;light&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;service&quot;</span><span class="token operator">:</span><span class="token string">&quot;turn_off&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;entityId&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token string">&quot;{\\&quot;entity_id\\&quot;: $join(payload.entity_id,\\&quot;,\\&quot;)}&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;dataType&quot;</span><span class="token operator">:</span><span class="token string">&quot;jsonata&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mergecontext&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;output_location_type&quot;</span><span class="token operator">:</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;mustacheAltTags&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">662</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">528</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;39666758.cee048&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;inject&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;z&quot;</span><span class="token operator">:</span><span class="token string">&quot;f731b121.0463a&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;props&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;p&quot;</span><span class="token operator">:</span><span class="token string">&quot;payload&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;p&quot;</span><span class="token operator">:</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;vt&quot;</span><span class="token operator">:</span><span class="token string">&quot;str&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token property">&quot;repeat&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;crontab&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;once&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token property">&quot;onceDelay&quot;</span><span class="token operator">:</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token property">&quot;topic&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;payload&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;payloadType&quot;</span><span class="token operator">:</span><span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;x&quot;</span><span class="token operator">:</span><span class="token number">284</span><span class="token punctuation">,</span><span class="token property">&quot;y&quot;</span><span class="token operator">:</span><span class="token number">528</span><span class="token punctuation">,</span><span class="token property">&quot;wires&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;80c20ba2.f09cd8&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><p><strong>Also see:</strong></p>`,11),M={href:"https://docs.jsonata.org",target:"_blank",rel:"noopener noreferrer"},B={href:"http://try.jsonata.org",target:"_blank",rel:"noopener noreferrer"};function N(U,D){const t=u("ExternalLinkIcon"),p=u("RouterLink");return r(),l("div",null,[b,s("p",null,[n("Here's an example using "),s("a",A,[n("eztimer"),a(t)]),n(" to set the output of the node to "),v,n(" or "),j,n(". Then use that in the call-service node for which service to use.")]),x,s("ul",null,[s("li",null,[a(p,{to:"/guide/mustache-templates.html"},{default:e(()=>[n("Mustache Templates")]),_:1})])]),z,s("p",null,[n("Home Assistant states are represented as strings so to be able to do arithmetic on them in JSONata they will need to be cast to a number first use "),s("a",G,[w,a(t)]),n(". Most attributes of entities are in their correct state but it never hurts to be safe and cast them as a number.")]),T,s("ul",null,[s("li",null,[a(p,{to:"/node/call-service.html"},{default:e(()=>[n("Call-service node")]),_:1})]),s("li",null,[a(p,{to:"/guide/jsonata.html"},{default:e(()=>[n("JSONata Guide")]),_:1})]),s("li",null,[s("a",M,[n("https://docs.jsonata.org"),a(t)])]),s("li",null,[s("a",B,[n("http://try.jsonata.org"),a(t)])])])])}const Z=c(f,[["render",N],["__file","call-service.html.vue"]]);export{Z as default};
