import{_ as m,o as n,c as l,a,h as d,v as y,b as c,i as u,f as h,d as f,w as v,T as b}from"./app-84c1d8f6.js";const w=["ha-api","api-call-service","api-current-state","ha-device","ha-entity","server-events","server-state-changed","ha-fire-event","ha-get-entities","api-get-history","poll-state","api-render-template","ha-select","ha-sentence","trigger-state","ha-tag","ha-time","ha-wait-until","ha-webhook","ha-zone","server","ha-device-config","ha-entity-config","ha-binary-sensor","ha-button","ha-number","ha-sensor","ha-switch","ha-text","ha-time-entity","ha-update-config"],x={data:function(){return{after:"",before:"",replaceServerId:"",serverId:"",showCopied:!1,showError:!1}},methods:{scrub:function(t){let e;try{e=JSON.parse(this.before)}catch{this.showError=!0,setTimeout(()=>{this.showError=!1},1500);return}this.showError=!1;let o=e.length;for(;o--;){const s=e[o].type;if(s==="server"){e.splice(o,1);continue}w.includes(s)&&(e[o].server=this.replaceServerId?this.serverId:""),["lat","lon","latitude","longitude"].forEach(p=>{e[o][p]&&(e[o][p]="")})}this.after=JSON.stringify(e)},copy:function(){this.$refs.copyme.select(),document.execCommand("copy"),this.showCopied=!0,setTimeout(()=>{this.showCopied=!1},1500)}},mounted(){localStorage.serverId&&(this.serverId=localStorage.serverId)},watch:{serverId(t){localStorage.serverId=t}}},g={key:0},I={key:0,class:"popup error"},S={key:0,class:"popup copied"};function C(t,e,o,s,p,i){return n(),l("div",null,[a("p",null,[a("label",null,[d(a("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=r=>t.replaceServerId=r)},null,512),[[y,t.replaceServerId]]),c(" Replace Home Assistant server id ")]),t.replaceServerId?(n(),l("span",g,[c(" with "),d(a("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>t.serverId=r),placeholder:"xxxxxxxx.xxxxx"},null,512),[[u,t.serverId]])])):h("v-if",!0)]),d(a("textarea",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.before=r),placeholder:"paste exported Node-RED flow here"},null,512),[[u,t.before]]),a("button",{onClick:e[3]||(e[3]=(...r)=>i.scrub&&i.scrub(...r))},"Scrub"),f(b,{name:"fade"},{default:v(()=>[t.showError?(n(),l("span",I,"Invalid JSON")):h("v-if",!0)]),_:1}),d(a("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.after=r),ref:"copyme"},null,512),[[u,t.after]]),a("button",{onClick:e[5]||(e[5]=(...r)=>i.copy&&i.copy(...r))},"Copy to Clipboard"),f(b,{name:"fade"},{default:v(()=>[t.showCopied?(n(),l("span",S,"Copied")):h("v-if",!0)]),_:1})])}const N=m(x,[["render",C],["__scopeId","data-v-0157be62"],["__file","Scrubber.vue"]]);export{N as default};
